{"ast":null,"code":"import{createSlice,createAsyncThunk}from\"@reduxjs/toolkit\";const API_URL=\"https://chicken-api-yqol.onrender.com/transactions\";export const fetchTransactions=createAsyncThunk(\"transactions/fetchTransactions\",async()=>{const res=await fetch(API_URL);return await res.json();});export const addTransaction=createAsyncThunk(\"transactions/addTransaction\",async transaction=>{const res=await fetch(API_URL,{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify(transaction)});return await res.json();});export const deleteTransaction=createAsyncThunk(\"transactions/deleteTransaction\",async id=>{await fetch(`${API_URL}/${id}`,{method:\"DELETE\"});return id;});const TransactionsSlice=createSlice({name:\"transactions\",initialState:{transactions:[],status:\"idle\"},reducers:{},extraReducers:builder=>{builder.addCase(fetchTransactions.fulfilled,(state,action)=>{state.transactions=action.payload;state.status=\"succeeded\";}).addCase(addTransaction.fulfilled,(state,action)=>{state.transactions.unshift(action.payload);}).addCase(deleteTransaction.fulfilled,(state,action)=>{state.transactions=state.transactions.filter(t=>t.id!==action.payload);});}});export default TransactionsSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","API_URL","fetchTransactions","res","fetch","json","addTransaction","transaction","method","headers","body","JSON","stringify","deleteTransaction","id","TransactionsSlice","name","initialState","transactions","status","reducers","extraReducers","builder","addCase","fulfilled","state","action","payload","unshift","filter","t","reducer"],"sources":["/Users/karolinaj/Desktop/kury/src/features/transactions/TransactionsSlice.js"],"sourcesContent":["import { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\n\nconst API_URL = \"https://chicken-api-yqol.onrender.com/transactions\";\n\nexport const fetchTransactions = createAsyncThunk(\n  \"transactions/fetchTransactions\",\n  async () => {\n    const res = await fetch(API_URL);\n    return await res.json();\n  }\n);\n\nexport const addTransaction = createAsyncThunk(\n  \"transactions/addTransaction\",\n  async (transaction) => {\n    const res = await fetch(API_URL, {\n      method: \"POST\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify(transaction),\n    });\n    return await res.json();\n  }\n);\n\nexport const deleteTransaction = createAsyncThunk(\n  \"transactions/deleteTransaction\",\n  async (id) => {\n    await fetch(`${API_URL}/${id}`, { method: \"DELETE\" });\n    return id;\n  }\n);\n\nconst TransactionsSlice = createSlice({\n  name: \"transactions\",\n  initialState: {\n    transactions: [],\n    status: \"idle\",\n  },\n  reducers: {},\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchTransactions.fulfilled, (state, action) => {\n        state.transactions = action.payload;\n        state.status = \"succeeded\";\n      })\n      .addCase(addTransaction.fulfilled, (state, action) => {\n        state.transactions.unshift(action.payload);\n      })\n      .addCase(deleteTransaction.fulfilled, (state, action) => {\n        state.transactions = state.transactions.filter(\n          (t) => t.id !== action.payload\n        );\n      });\n  },\n});\n\nexport default TransactionsSlice.reducer;\n"],"mappings":"AAAA,OAASA,WAAW,CAAEC,gBAAgB,KAAQ,kBAAkB,CAEhE,KAAM,CAAAC,OAAO,CAAG,oDAAoD,CAEpE,MAAO,MAAM,CAAAC,iBAAiB,CAAGF,gBAAgB,CAC/C,gCAAgC,CAChC,SAAY,CACV,KAAM,CAAAG,GAAG,CAAG,KAAM,CAAAC,KAAK,CAACH,OAAO,CAAC,CAChC,MAAO,MAAM,CAAAE,GAAG,CAACE,IAAI,CAAC,CAAC,CACzB,CACF,CAAC,CAED,MAAO,MAAM,CAAAC,cAAc,CAAGN,gBAAgB,CAC5C,6BAA6B,CAC7B,KAAO,CAAAO,WAAW,EAAK,CACrB,KAAM,CAAAJ,GAAG,CAAG,KAAM,CAAAC,KAAK,CAACH,OAAO,CAAE,CAC/BO,MAAM,CAAE,MAAM,CACdC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAACL,WAAW,CAClC,CAAC,CAAC,CACF,MAAO,MAAM,CAAAJ,GAAG,CAACE,IAAI,CAAC,CAAC,CACzB,CACF,CAAC,CAED,MAAO,MAAM,CAAAQ,iBAAiB,CAAGb,gBAAgB,CAC/C,gCAAgC,CAChC,KAAO,CAAAc,EAAE,EAAK,CACZ,KAAM,CAAAV,KAAK,CAAC,GAAGH,OAAO,IAAIa,EAAE,EAAE,CAAE,CAAEN,MAAM,CAAE,QAAS,CAAC,CAAC,CACrD,MAAO,CAAAM,EAAE,CACX,CACF,CAAC,CAED,KAAM,CAAAC,iBAAiB,CAAGhB,WAAW,CAAC,CACpCiB,IAAI,CAAE,cAAc,CACpBC,YAAY,CAAE,CACZC,YAAY,CAAE,EAAE,CAChBC,MAAM,CAAE,MACV,CAAC,CACDC,QAAQ,CAAE,CAAC,CAAC,CACZC,aAAa,CAAGC,OAAO,EAAK,CAC1BA,OAAO,CACJC,OAAO,CAACrB,iBAAiB,CAACsB,SAAS,CAAE,CAACC,KAAK,CAAEC,MAAM,GAAK,CACvDD,KAAK,CAACP,YAAY,CAAGQ,MAAM,CAACC,OAAO,CACnCF,KAAK,CAACN,MAAM,CAAG,WAAW,CAC5B,CAAC,CAAC,CACDI,OAAO,CAACjB,cAAc,CAACkB,SAAS,CAAE,CAACC,KAAK,CAAEC,MAAM,GAAK,CACpDD,KAAK,CAACP,YAAY,CAACU,OAAO,CAACF,MAAM,CAACC,OAAO,CAAC,CAC5C,CAAC,CAAC,CACDJ,OAAO,CAACV,iBAAiB,CAACW,SAAS,CAAE,CAACC,KAAK,CAAEC,MAAM,GAAK,CACvDD,KAAK,CAACP,YAAY,CAAGO,KAAK,CAACP,YAAY,CAACW,MAAM,CAC3CC,CAAC,EAAKA,CAAC,CAAChB,EAAE,GAAKY,MAAM,CAACC,OACzB,CAAC,CACH,CAAC,CAAC,CACN,CACF,CAAC,CAAC,CAEF,cAAe,CAAAZ,iBAAiB,CAACgB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}