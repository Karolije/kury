{"ast":null,"code":"// src/features/flock/flockSlice.js\nimport{createSlice,createAsyncThunk}from\"@reduxjs/toolkit\";const API_URL=\"https://chicken-api-yqol.onrender.com/flock\";export const fetchFlock=createAsyncThunk(\"flock/fetchFlock\",async()=>{const res=await fetch(API_URL);return await res.json();});export const updateFlockCount=createAsyncThunk(\"flock/updateFlockCount\",async _ref=>{let{id,count}=_ref;const res=await fetch(`${API_URL}/${id}`,{method:\"PATCH\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({count})});return await res.json();});const flockSlice=createSlice({name:\"flock\",initialState:{flock:[],status:\"idle\"},reducers:{},extraReducers:builder=>{builder.addCase(fetchFlock.fulfilled,(state,action)=>{state.flock=action.payload;state.status=\"succeeded\";}).addCase(updateFlockCount.fulfilled,(state,action)=>{const updated=action.payload;const index=state.flock.findIndex(f=>f.id===updated.id);if(index!==-1){state.flock[index].count=updated.count;}});}});export default flockSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","API_URL","fetchFlock","res","fetch","json","updateFlockCount","_ref","id","count","method","headers","body","JSON","stringify","flockSlice","name","initialState","flock","status","reducers","extraReducers","builder","addCase","fulfilled","state","action","payload","updated","index","findIndex","f","reducer"],"sources":["/Users/karolinaj/Desktop/kury/src/features/flock/FlockSlice.js"],"sourcesContent":["// src/features/flock/flockSlice.js\nimport { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\n\nconst API_URL = \"https://chicken-api-yqol.onrender.com/flock\";\n\nexport const fetchFlock = createAsyncThunk(\"flock/fetchFlock\", async () => {\n  const res = await fetch(API_URL);\n  return await res.json();\n});\n\nexport const updateFlockCount = createAsyncThunk(\n  \"flock/updateFlockCount\",\n  async ({ id, count }) => {\n    const res = await fetch(`${API_URL}/${id}`, {\n      method: \"PATCH\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ count }),\n    });\n    return await res.json();\n  }\n);\n\nconst flockSlice = createSlice({\n  name: \"flock\",\n  initialState: {\n    flock: [],\n    status: \"idle\",\n  },\n  reducers: {},\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchFlock.fulfilled, (state, action) => {\n        state.flock = action.payload;\n        state.status = \"succeeded\";\n      })\n      .addCase(updateFlockCount.fulfilled, (state, action) => {\n        const updated = action.payload;\n        const index = state.flock.findIndex((f) => f.id === updated.id);\n        if (index !== -1) {\n          state.flock[index].count = updated.count;\n        }\n      });\n  },\n});\n\nexport default flockSlice.reducer;\n"],"mappings":"AAAA;AACA,OAASA,WAAW,CAAEC,gBAAgB,KAAQ,kBAAkB,CAEhE,KAAM,CAAAC,OAAO,CAAG,6CAA6C,CAE7D,MAAO,MAAM,CAAAC,UAAU,CAAGF,gBAAgB,CAAC,kBAAkB,CAAE,SAAY,CACzE,KAAM,CAAAG,GAAG,CAAG,KAAM,CAAAC,KAAK,CAACH,OAAO,CAAC,CAChC,MAAO,MAAM,CAAAE,GAAG,CAACE,IAAI,CAAC,CAAC,CACzB,CAAC,CAAC,CAEF,MAAO,MAAM,CAAAC,gBAAgB,CAAGN,gBAAgB,CAC9C,wBAAwB,CACxB,MAAAO,IAAA,EAAyB,IAAlB,CAAEC,EAAE,CAAEC,KAAM,CAAC,CAAAF,IAAA,CAClB,KAAM,CAAAJ,GAAG,CAAG,KAAM,CAAAC,KAAK,CAAC,GAAGH,OAAO,IAAIO,EAAE,EAAE,CAAE,CAC1CE,MAAM,CAAE,OAAO,CACfC,OAAO,CAAE,CAAE,cAAc,CAAE,kBAAmB,CAAC,CAC/CC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEL,KAAM,CAAC,CAChC,CAAC,CAAC,CACF,MAAO,MAAM,CAAAN,GAAG,CAACE,IAAI,CAAC,CAAC,CACzB,CACF,CAAC,CAED,KAAM,CAAAU,UAAU,CAAGhB,WAAW,CAAC,CAC7BiB,IAAI,CAAE,OAAO,CACbC,YAAY,CAAE,CACZC,KAAK,CAAE,EAAE,CACTC,MAAM,CAAE,MACV,CAAC,CACDC,QAAQ,CAAE,CAAC,CAAC,CACZC,aAAa,CAAGC,OAAO,EAAK,CAC1BA,OAAO,CACJC,OAAO,CAACrB,UAAU,CAACsB,SAAS,CAAE,CAACC,KAAK,CAAEC,MAAM,GAAK,CAChDD,KAAK,CAACP,KAAK,CAAGQ,MAAM,CAACC,OAAO,CAC5BF,KAAK,CAACN,MAAM,CAAG,WAAW,CAC5B,CAAC,CAAC,CACDI,OAAO,CAACjB,gBAAgB,CAACkB,SAAS,CAAE,CAACC,KAAK,CAAEC,MAAM,GAAK,CACtD,KAAM,CAAAE,OAAO,CAAGF,MAAM,CAACC,OAAO,CAC9B,KAAM,CAAAE,KAAK,CAAGJ,KAAK,CAACP,KAAK,CAACY,SAAS,CAAEC,CAAC,EAAKA,CAAC,CAACvB,EAAE,GAAKoB,OAAO,CAACpB,EAAE,CAAC,CAC/D,GAAIqB,KAAK,GAAK,CAAC,CAAC,CAAE,CAChBJ,KAAK,CAACP,KAAK,CAACW,KAAK,CAAC,CAACpB,KAAK,CAAGmB,OAAO,CAACnB,KAAK,CAC1C,CACF,CAAC,CAAC,CACN,CACF,CAAC,CAAC,CAEF,cAAe,CAAAM,UAAU,CAACiB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}