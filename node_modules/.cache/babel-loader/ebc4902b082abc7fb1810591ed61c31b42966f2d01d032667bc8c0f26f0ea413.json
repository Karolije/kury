{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useSelector,useDispatch}from'react-redux';import{BarChart,Bar,XAxis,YAxis,CartesianGrid,Tooltip,ResponsiveContainer}from'recharts';import{fetchTransactions}from'../../features/transactions/TransactionsSlice';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const EggChart=()=>{const dispatch=useDispatch();const transactions=useSelector(state=>state.transactions.transactions);const[data,setData]=useState([]);useEffect(()=>{dispatch(fetchTransactions());},[dispatch]);useEffect(()=>{if(!transactions||transactions.length===0)return;const grouped={};transactions.forEach(item=>{if(item.type==='collected'){if(!grouped[item.date]){grouped[item.date]={date:item.date,collected:0};}grouped[item.date].collected+=Number(item.amount);}});const result=Object.values(grouped).sort((a,b)=>a.date.localeCompare(b.date));setData(result);},[transactions]);return/*#__PURE__*/_jsxs(\"div\",{className:\"glass-box\",style:{height:300},children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Zebrane jajka\"}),/*#__PURE__*/_jsx(ResponsiveContainer,{width:\"100%\",height:\"100%\",children:/*#__PURE__*/_jsxs(BarChart,{data:data,children:[/*#__PURE__*/_jsx(CartesianGrid,{strokeDasharray:\"3 3\"}),/*#__PURE__*/_jsx(XAxis,{dataKey:\"date\"}),/*#__PURE__*/_jsx(YAxis,{}),/*#__PURE__*/_jsx(Tooltip,{}),/*#__PURE__*/_jsx(Bar,{dataKey:\"collected\",fill:\"#82ca9d\",name:\"Zebrane\"})]})})]});};export default EggChart;","map":{"version":3,"names":["React","useEffect","useState","useSelector","useDispatch","BarChart","Bar","XAxis","YAxis","CartesianGrid","Tooltip","ResponsiveContainer","fetchTransactions","jsx","_jsx","jsxs","_jsxs","EggChart","dispatch","transactions","state","data","setData","length","grouped","forEach","item","type","date","collected","Number","amount","result","Object","values","sort","a","b","localeCompare","className","style","height","children","width","strokeDasharray","dataKey","fill","name"],"sources":["/Users/karolinaj/Desktop/kury/src/components/charts/EggChart.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport {\n  BarChart, Bar, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer,\n} from 'recharts';\nimport { fetchTransactions } from '../../features/transactions/TransactionsSlice';\n\nconst EggChart = () => {\n  const dispatch = useDispatch();\n  const transactions = useSelector((state) => state.transactions.transactions);\n  const [data, setData] = useState([]);\n\n  useEffect(() => {\n    dispatch(fetchTransactions());\n  }, [dispatch]);\n\n  useEffect(() => {\n    if (!transactions || transactions.length === 0) return;\n\n    const grouped = {};\n\n    transactions.forEach((item) => {\n      if (item.type === 'collected') {\n        if (!grouped[item.date]) {\n          grouped[item.date] = { date: item.date, collected: 0 };\n        }\n        grouped[item.date].collected += Number(item.amount);\n      }\n    });\n\n    const result = Object.values(grouped).sort((a, b) => a.date.localeCompare(b.date));\n    setData(result);\n  }, [transactions]);\n\n  return (\n    <div className=\"glass-box\" style={{ height: 300 }}>\n      <h2>Zebrane jajka</h2>\n      <ResponsiveContainer width=\"100%\" height=\"100%\">\n        <BarChart data={data}>\n          <CartesianGrid strokeDasharray=\"3 3\" />\n          <XAxis dataKey=\"date\" />\n          <YAxis />\n          <Tooltip />\n          <Bar dataKey=\"collected\" fill=\"#82ca9d\" name=\"Zebrane\" />\n        </BarChart>\n      </ResponsiveContainer>\n    </div>\n  );\n};\n\nexport default EggChart;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OACEC,QAAQ,CAAEC,GAAG,CAAEC,KAAK,CAAEC,KAAK,CAAEC,aAAa,CAAEC,OAAO,CAAEC,mBAAmB,KACnE,UAAU,CACjB,OAASC,iBAAiB,KAAQ,+CAA+C,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAElF,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CACrB,KAAM,CAAAC,QAAQ,CAAGd,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAe,YAAY,CAAGhB,WAAW,CAAEiB,KAAK,EAAKA,KAAK,CAACD,YAAY,CAACA,YAAY,CAAC,CAC5E,KAAM,CAACE,IAAI,CAAEC,OAAO,CAAC,CAAGpB,QAAQ,CAAC,EAAE,CAAC,CAEpCD,SAAS,CAAC,IAAM,CACdiB,QAAQ,CAACN,iBAAiB,CAAC,CAAC,CAAC,CAC/B,CAAC,CAAE,CAACM,QAAQ,CAAC,CAAC,CAEdjB,SAAS,CAAC,IAAM,CACd,GAAI,CAACkB,YAAY,EAAIA,YAAY,CAACI,MAAM,GAAK,CAAC,CAAE,OAEhD,KAAM,CAAAC,OAAO,CAAG,CAAC,CAAC,CAElBL,YAAY,CAACM,OAAO,CAAEC,IAAI,EAAK,CAC7B,GAAIA,IAAI,CAACC,IAAI,GAAK,WAAW,CAAE,CAC7B,GAAI,CAACH,OAAO,CAACE,IAAI,CAACE,IAAI,CAAC,CAAE,CACvBJ,OAAO,CAACE,IAAI,CAACE,IAAI,CAAC,CAAG,CAAEA,IAAI,CAAEF,IAAI,CAACE,IAAI,CAAEC,SAAS,CAAE,CAAE,CAAC,CACxD,CACAL,OAAO,CAACE,IAAI,CAACE,IAAI,CAAC,CAACC,SAAS,EAAIC,MAAM,CAACJ,IAAI,CAACK,MAAM,CAAC,CACrD,CACF,CAAC,CAAC,CAEF,KAAM,CAAAC,MAAM,CAAGC,MAAM,CAACC,MAAM,CAACV,OAAO,CAAC,CAACW,IAAI,CAAC,CAACC,CAAC,CAAEC,CAAC,GAAKD,CAAC,CAACR,IAAI,CAACU,aAAa,CAACD,CAAC,CAACT,IAAI,CAAC,CAAC,CAClFN,OAAO,CAACU,MAAM,CAAC,CACjB,CAAC,CAAE,CAACb,YAAY,CAAC,CAAC,CAElB,mBACEH,KAAA,QAAKuB,SAAS,CAAC,WAAW,CAACC,KAAK,CAAE,CAAEC,MAAM,CAAE,GAAI,CAAE,CAAAC,QAAA,eAChD5B,IAAA,OAAA4B,QAAA,CAAI,eAAa,CAAI,CAAC,cACtB5B,IAAA,CAACH,mBAAmB,EAACgC,KAAK,CAAC,MAAM,CAACF,MAAM,CAAC,MAAM,CAAAC,QAAA,cAC7C1B,KAAA,CAACX,QAAQ,EAACgB,IAAI,CAAEA,IAAK,CAAAqB,QAAA,eACnB5B,IAAA,CAACL,aAAa,EAACmC,eAAe,CAAC,KAAK,CAAE,CAAC,cACvC9B,IAAA,CAACP,KAAK,EAACsC,OAAO,CAAC,MAAM,CAAE,CAAC,cACxB/B,IAAA,CAACN,KAAK,GAAE,CAAC,cACTM,IAAA,CAACJ,OAAO,GAAE,CAAC,cACXI,IAAA,CAACR,GAAG,EAACuC,OAAO,CAAC,WAAW,CAACC,IAAI,CAAC,SAAS,CAACC,IAAI,CAAC,SAAS,CAAE,CAAC,EACjD,CAAC,CACQ,CAAC,EACnB,CAAC,CAEV,CAAC,CAED,cAAe,CAAA9B,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}