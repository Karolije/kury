{"ast":null,"code":"var _jsxFileName = \"/Users/karolinaj/Desktop/kury/src/components/EggForm/index.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\nimport { useDispatch } from 'react-redux';\nimport fetchTransactions from '../features/transaction/TransactionsSlice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst EggForm = () => {\n  _s();\n  const dispatch = useDispatch();\n  const [mode, setMode] = useState('collected');\n  const today = new Date().toISOString().split('T')[0];\n  const [formData, setFormData] = useState({\n    quantity: '',\n    date: today,\n    price: ''\n  });\n  const handleChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    if (!formData.quantity || !formData.date || mode === 'sold' && !formData.price) {\n      alert('Uzupełnij wszystkie wymagane pola');\n      return;\n    }\n    const entry = {\n      id: uuidv4(),\n      type: mode,\n      // \"collected\" lub \"sold\"\n      amount: parseInt(formData.quantity),\n      date: formData.date,\n      price: mode === 'sold' ? parseFloat(formData.price) : null\n    };\n    try {\n      await fetch('http://localhost:3001/transactions', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(entry)\n      });\n      dispatch(fetchTransactions()); // <== odśwież dane w Reduxie\n\n      setFormData({\n        quantity: '',\n        date: today,\n        price: ''\n      });\n      setMode('collected');\n    } catch (err) {\n      console.error('Błąd przy zapisie', err);\n      alert('Nie udało się zapisać danych');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"form\", {\n    className: \"transaction-form glass-box\",\n    onSubmit: handleSubmit,\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: mode === 'collected' ? 'Zebrane jajka' : 'Sprzedane jajka'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Typ\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            name: \"mode\",\n            value: \"collected\",\n            checked: mode === 'collected',\n            onChange: () => setMode('collected')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 13\n          }, this), \"Zebrane\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          style: {\n            marginLeft: '1rem'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"radio\",\n            name: \"mode\",\n            value: \"sold\",\n            checked: mode === 'sold',\n            onChange: () => setMode('sold')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this), \"Sprzedane\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"quantity\",\n        children: \"Ilo\\u015B\\u0107 *\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"quantity\",\n        type: \"number\",\n        name: \"quantity\",\n        value: formData.quantity,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), mode === 'sold' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"price\",\n        children: \"Kwota sprzeda\\u017Cy *\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"price\",\n        type: \"number\",\n        name: \"price\",\n        value: formData.price,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-group\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"date\",\n        children: \"Data *\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        id: \"date\",\n        type: \"date\",\n        name: \"date\",\n        value: formData.date,\n        onChange: handleChange,\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-actions\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        children: \"Zapisz\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 5\n  }, this);\n};\n_s(EggForm, \"EmR8JTJnV8myvkhSbMDgOXHikc4=\", false, function () {\n  return [useDispatch];\n});\n_c = EggForm;\nexport default EggForm;\nvar _c;\n$RefreshReg$(_c, \"EggForm\");","map":{"version":3,"names":["React","useState","v4","uuidv4","useDispatch","fetchTransactions","jsxDEV","_jsxDEV","EggForm","_s","dispatch","mode","setMode","today","Date","toISOString","split","formData","setFormData","quantity","date","price","handleChange","e","name","value","target","prev","handleSubmit","preventDefault","alert","entry","id","type","amount","parseInt","parseFloat","fetch","method","headers","body","JSON","stringify","err","console","error","className","onSubmit","children","fileName","_jsxFileName","lineNumber","columnNumber","checked","onChange","style","marginLeft","htmlFor","required","_c","$RefreshReg$"],"sources":["/Users/karolinaj/Desktop/kury/src/components/EggForm/index.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { v4 as uuidv4 } from 'uuid';\nimport { useDispatch } from 'react-redux';\nimport  fetchTransactions  from '../features/transaction/TransactionsSlice';\n\nconst EggForm = () => {\n  const dispatch = useDispatch();\n  const [mode, setMode] = useState('collected');\n  const today = new Date().toISOString().split('T')[0];\n\n  const [formData, setFormData] = useState({\n    quantity: '',\n    date: today,\n    price: '',\n  });\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setFormData((prev) => ({ ...prev, [name]: value }));\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    if (!formData.quantity || !formData.date || (mode === 'sold' && !formData.price)) {\n      alert('Uzupełnij wszystkie wymagane pola');\n      return;\n    }\n\n    const entry = {\n      id: uuidv4(),\n      type: mode, // \"collected\" lub \"sold\"\n      amount: parseInt(formData.quantity),\n      date: formData.date,\n      price: mode === 'sold' ? parseFloat(formData.price) : null,\n    };\n\n    try {\n      await fetch('http://localhost:3001/transactions', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(entry),\n      });\n\n      dispatch(fetchTransactions()); // <== odśwież dane w Reduxie\n\n      setFormData({\n        quantity: '',\n        date: today,\n        price: '',\n      });\n      setMode('collected');\n    } catch (err) {\n      console.error('Błąd przy zapisie', err);\n      alert('Nie udało się zapisać danych');\n    }\n  };\n\n  return (\n    <form className=\"transaction-form glass-box\" onSubmit={handleSubmit}>\n      <h2>{mode === 'collected' ? 'Zebrane jajka' : 'Sprzedane jajka'}</h2>\n\n      <div className=\"form-group\">\n        <label>Typ</label>\n        <div>\n          <label>\n            <input\n              type=\"radio\"\n              name=\"mode\"\n              value=\"collected\"\n              checked={mode === 'collected'}\n              onChange={() => setMode('collected')}\n            />\n            Zebrane\n          </label>\n          <label style={{ marginLeft: '1rem' }}>\n            <input\n              type=\"radio\"\n              name=\"mode\"\n              value=\"sold\"\n              checked={mode === 'sold'}\n              onChange={() => setMode('sold')}\n            />\n            Sprzedane\n          </label>\n        </div>\n      </div>\n\n      <div className=\"form-group\">\n        <label htmlFor=\"quantity\">Ilość *</label>\n        <input\n          id=\"quantity\"\n          type=\"number\"\n          name=\"quantity\"\n          value={formData.quantity}\n          onChange={handleChange}\n          required\n        />\n      </div>\n\n      {mode === 'sold' && (\n        <div className=\"form-group\">\n          <label htmlFor=\"price\">Kwota sprzedaży *</label>\n          <input\n            id=\"price\"\n            type=\"number\"\n            name=\"price\"\n            value={formData.price}\n            onChange={handleChange}\n            required\n          />\n        </div>\n      )}\n\n      <div className=\"form-group\">\n        <label htmlFor=\"date\">Data *</label>\n        <input\n          id=\"date\"\n          type=\"date\"\n          name=\"date\"\n          value={formData.date}\n          onChange={handleChange}\n          required\n        />\n      </div>\n\n      <div className=\"form-actions\">\n        <button type=\"submit\">Zapisz</button>\n      </div>\n    </form>\n  );\n};\n\nexport default EggForm;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}