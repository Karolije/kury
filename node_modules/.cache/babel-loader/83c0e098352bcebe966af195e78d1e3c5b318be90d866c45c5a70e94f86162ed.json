{"ast":null,"code":"// src/features/flock/flockSlice.js\nimport { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\nconst API_URL = \"https://chicken-api-yqol.onrender.com/flock\";\nexport const fetchFlock = createAsyncThunk(\"flock/fetchFlock\", async () => {\n  const res = await fetch(API_URL);\n  return await res.json();\n});\nexport const updateFlockCount = createAsyncThunk(\"flock/updateFlockCount\", async ({\n  id,\n  count\n}) => {\n  const res = await fetch(`${API_URL}/${id}`, {\n    method: \"PATCH\",\n    headers: {\n      \"Content-Type\": \"application/json\"\n    },\n    body: JSON.stringify({\n      count\n    })\n  });\n  return await res.json();\n});\nconst flockSlice = createSlice({\n  name: \"flock\",\n  initialState: {\n    flock: [],\n    status: \"idle\"\n  },\n  reducers: {},\n  extraReducers: builder => {\n    builder.addCase(fetchFlock.fulfilled, (state, action) => {\n      state.flock = action.payload;\n      state.status = \"succeeded\";\n    }).addCase(updateFlockCount.fulfilled, (state, action) => {\n      const updated = action.payload;\n      const index = state.flock.findIndex(f => f.id === updated.id);\n      if (index !== -1) {\n        state.flock[index].count = updated.count;\n      }\n    });\n  }\n});\nexport default flockSlice.reducer;","map":{"version":3,"names":["createSlice","createAsyncThunk","API_URL","fetchFlock","res","fetch","json","updateFlockCount","id","count","method","headers","body","JSON","stringify","flockSlice","name","initialState","flock","status","reducers","extraReducers","builder","addCase","fulfilled","state","action","payload","updated","index","findIndex","f","reducer"],"sources":["/Users/karolinaj/Desktop/kury/src/features/flock/FlockSlice.js"],"sourcesContent":["// src/features/flock/flockSlice.js\nimport { createSlice, createAsyncThunk } from \"@reduxjs/toolkit\";\n\nconst API_URL = \"https://chicken-api-yqol.onrender.com/flock\";\n\nexport const fetchFlock = createAsyncThunk(\"flock/fetchFlock\", async () => {\n  const res = await fetch(API_URL);\n  return await res.json();\n});\n\nexport const updateFlockCount = createAsyncThunk(\n  \"flock/updateFlockCount\",\n  async ({ id, count }) => {\n    const res = await fetch(`${API_URL}/${id}`, {\n      method: \"PATCH\",\n      headers: { \"Content-Type\": \"application/json\" },\n      body: JSON.stringify({ count }),\n    });\n    return await res.json();\n  }\n);\n\nconst flockSlice = createSlice({\n  name: \"flock\",\n  initialState: {\n    flock: [],\n    status: \"idle\",\n  },\n  reducers: {},\n  extraReducers: (builder) => {\n    builder\n      .addCase(fetchFlock.fulfilled, (state, action) => {\n        state.flock = action.payload;\n        state.status = \"succeeded\";\n      })\n      .addCase(updateFlockCount.fulfilled, (state, action) => {\n        const updated = action.payload;\n        const index = state.flock.findIndex((f) => f.id === updated.id);\n        if (index !== -1) {\n          state.flock[index].count = updated.count;\n        }\n      });\n  },\n});\n\nexport default flockSlice.reducer;\n"],"mappings":"AAAA;AACA,SAASA,WAAW,EAAEC,gBAAgB,QAAQ,kBAAkB;AAEhE,MAAMC,OAAO,GAAG,6CAA6C;AAE7D,OAAO,MAAMC,UAAU,GAAGF,gBAAgB,CAAC,kBAAkB,EAAE,YAAY;EACzE,MAAMG,GAAG,GAAG,MAAMC,KAAK,CAACH,OAAO,CAAC;EAChC,OAAO,MAAME,GAAG,CAACE,IAAI,CAAC,CAAC;AACzB,CAAC,CAAC;AAEF,OAAO,MAAMC,gBAAgB,GAAGN,gBAAgB,CAC9C,wBAAwB,EACxB,OAAO;EAAEO,EAAE;EAAEC;AAAM,CAAC,KAAK;EACvB,MAAML,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGH,OAAO,IAAIM,EAAE,EAAE,EAAE;IAC1CE,MAAM,EAAE,OAAO;IACfC,OAAO,EAAE;MAAE,cAAc,EAAE;IAAmB,CAAC;IAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MAAEL;IAAM,CAAC;EAChC,CAAC,CAAC;EACF,OAAO,MAAML,GAAG,CAACE,IAAI,CAAC,CAAC;AACzB,CACF,CAAC;AAED,MAAMS,UAAU,GAAGf,WAAW,CAAC;EAC7BgB,IAAI,EAAE,OAAO;EACbC,YAAY,EAAE;IACZC,KAAK,EAAE,EAAE;IACTC,MAAM,EAAE;EACV,CAAC;EACDC,QAAQ,EAAE,CAAC,CAAC;EACZC,aAAa,EAAGC,OAAO,IAAK;IAC1BA,OAAO,CACJC,OAAO,CAACpB,UAAU,CAACqB,SAAS,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAK;MAChDD,KAAK,CAACP,KAAK,GAAGQ,MAAM,CAACC,OAAO;MAC5BF,KAAK,CAACN,MAAM,GAAG,WAAW;IAC5B,CAAC,CAAC,CACDI,OAAO,CAAChB,gBAAgB,CAACiB,SAAS,EAAE,CAACC,KAAK,EAAEC,MAAM,KAAK;MACtD,MAAME,OAAO,GAAGF,MAAM,CAACC,OAAO;MAC9B,MAAME,KAAK,GAAGJ,KAAK,CAACP,KAAK,CAACY,SAAS,CAAEC,CAAC,IAAKA,CAAC,CAACvB,EAAE,KAAKoB,OAAO,CAACpB,EAAE,CAAC;MAC/D,IAAIqB,KAAK,KAAK,CAAC,CAAC,EAAE;QAChBJ,KAAK,CAACP,KAAK,CAACW,KAAK,CAAC,CAACpB,KAAK,GAAGmB,OAAO,CAACnB,KAAK;MAC1C;IACF,CAAC,CAAC;EACN;AACF,CAAC,CAAC;AAEF,eAAeM,UAAU,CAACiB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}