{"ast":null,"code":"// src/components/FlockManager.jsx\nimport React,{useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{fetchFlock,updateFlockCount}from\"../../features/flock/FlockSlice\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const FlockManager=()=>{const dispatch=useDispatch();const flock=useSelector(state=>state.flock.flock);useEffect(()=>{dispatch(fetchFlock());},[dispatch]);const handleChange=(id,currentCount,delta)=>{const newCount=currentCount+delta;if(newCount>=0){dispatch(updateFlockCount({id,count:newCount}));}};const total=flock.reduce((sum,item)=>sum+item.count,0);return/*#__PURE__*/_jsxs(\"div\",{className:\"glass-box\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Stan stada\"}),/*#__PURE__*/_jsx(\"ul\",{children:flock.map(_ref=>{let{id,type,count}=_ref;return/*#__PURE__*/_jsxs(\"li\",{style:{marginBottom:\"10px\"},children:[/*#__PURE__*/_jsxs(\"strong\",{children:[type,\":\"]}),\" \",count,/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleChange(id,count,1),children:\"\\uFF0B\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleChange(id,count,-1),children:\"\\uFF0D\"})]},id);})}),/*#__PURE__*/_jsxs(\"h3\",{children:[\"Suma: \",total]})]});};export default FlockManager;","map":{"version":3,"names":["React","useEffect","useDispatch","useSelector","fetchFlock","updateFlockCount","jsx","_jsx","jsxs","_jsxs","FlockManager","dispatch","flock","state","handleChange","id","currentCount","delta","newCount","count","total","reduce","sum","item","className","children","map","_ref","type","style","marginBottom","onClick"],"sources":["/Users/karolinaj/Desktop/kury/src/components/ChickenManager/index.js"],"sourcesContent":["// src/components/FlockManager.jsx\nimport React, { useEffect } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { fetchFlock, updateFlockCount } from \"../../features/flock/FlockSlice\";\n\nconst FlockManager = () => {\n  const dispatch = useDispatch();\n  const flock = useSelector((state) => state.flock.flock);\n\n  useEffect(() => {\n    dispatch(fetchFlock());\n  }, [dispatch]);\n\n  const handleChange = (id, currentCount, delta) => {\n    const newCount = currentCount + delta;\n    if (newCount >= 0) {\n      dispatch(updateFlockCount({ id, count: newCount }));\n    }\n  };\n\n  const total = flock.reduce((sum, item) => sum + item.count, 0);\n\n  return (\n    <div className=\"glass-box\">\n      <h2>Stan stada</h2>\n      <ul>\n        {flock.map(({ id, type, count }) => (\n          <li key={id} style={{ marginBottom: \"10px\" }}>\n            <strong>{type}:</strong> {count}\n            <button onClick={() => handleChange(id, count, 1)}>＋</button>\n            <button onClick={() => handleChange(id, count, -1)}>－</button>\n          </li>\n        ))}\n      </ul>\n      <h3>Suma: {total}</h3>\n    </div>\n  );\n};\n\nexport default FlockManager;\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,SAAS,KAAQ,OAAO,CACxC,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,UAAU,CAAEC,gBAAgB,KAAQ,iCAAiC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE/E,KAAM,CAAAC,YAAY,CAAGA,CAAA,GAAM,CACzB,KAAM,CAAAC,QAAQ,CAAGT,WAAW,CAAC,CAAC,CAC9B,KAAM,CAAAU,KAAK,CAAGT,WAAW,CAAEU,KAAK,EAAKA,KAAK,CAACD,KAAK,CAACA,KAAK,CAAC,CAEvDX,SAAS,CAAC,IAAM,CACdU,QAAQ,CAACP,UAAU,CAAC,CAAC,CAAC,CACxB,CAAC,CAAE,CAACO,QAAQ,CAAC,CAAC,CAEd,KAAM,CAAAG,YAAY,CAAGA,CAACC,EAAE,CAAEC,YAAY,CAAEC,KAAK,GAAK,CAChD,KAAM,CAAAC,QAAQ,CAAGF,YAAY,CAAGC,KAAK,CACrC,GAAIC,QAAQ,EAAI,CAAC,CAAE,CACjBP,QAAQ,CAACN,gBAAgB,CAAC,CAAEU,EAAE,CAAEI,KAAK,CAAED,QAAS,CAAC,CAAC,CAAC,CACrD,CACF,CAAC,CAED,KAAM,CAAAE,KAAK,CAAGR,KAAK,CAACS,MAAM,CAAC,CAACC,GAAG,CAAEC,IAAI,GAAKD,GAAG,CAAGC,IAAI,CAACJ,KAAK,CAAE,CAAC,CAAC,CAE9D,mBACEV,KAAA,QAAKe,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBlB,IAAA,OAAAkB,QAAA,CAAI,YAAU,CAAI,CAAC,cACnBlB,IAAA,OAAAkB,QAAA,CACGb,KAAK,CAACc,GAAG,CAACC,IAAA,MAAC,CAAEZ,EAAE,CAAEa,IAAI,CAAET,KAAM,CAAC,CAAAQ,IAAA,oBAC7BlB,KAAA,OAAaoB,KAAK,CAAE,CAAEC,YAAY,CAAE,MAAO,CAAE,CAAAL,QAAA,eAC3ChB,KAAA,WAAAgB,QAAA,EAASG,IAAI,CAAC,GAAC,EAAQ,CAAC,IAAC,CAACT,KAAK,cAC/BZ,IAAA,WAAQwB,OAAO,CAAEA,CAAA,GAAMjB,YAAY,CAACC,EAAE,CAAEI,KAAK,CAAE,CAAC,CAAE,CAAAM,QAAA,CAAC,QAAC,CAAQ,CAAC,cAC7DlB,IAAA,WAAQwB,OAAO,CAAEA,CAAA,GAAMjB,YAAY,CAACC,EAAE,CAAEI,KAAK,CAAE,CAAC,CAAC,CAAE,CAAAM,QAAA,CAAC,QAAC,CAAQ,CAAC,GAHvDV,EAIL,CAAC,EACN,CAAC,CACA,CAAC,cACLN,KAAA,OAAAgB,QAAA,EAAI,QAAM,CAACL,KAAK,EAAK,CAAC,EACnB,CAAC,CAEV,CAAC,CAED,cAAe,CAAAV,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}